---
title: 承認されたダウンロードディレクトリ
url: https://woocommerce.com/document/approved-download-directories/
---

**承認済みダウンロード ディレクトリ** は、ダウンロード可能な製品ファイルの保存に許可されるディレクトリを管理するのに役立つ機能です。

WooCommerce 6.5で導入されたこの機能は、ダウンロード可能な商品を既に販売している、または販売を計画している場合、特にサイト上で商品の作成と変更権限を持つユーザーが複数いる場合に便利です。例えば、管理者は少数でも、ショップマネージャーや商品販売業者が複数人で商品を作成し、ファイルを追加するような場合などです。

このページでは、次の内容を学びます。

- ダウンロード可能なファイルの保存場所。
- 承認済みダウンロードディレクトリを管理するために利用できる設定。
- ルールを有効または無効にする方法。
- 利用できる追加ツール。
- 一部のダウンロードファイルが無効になる理由について説明します。

WooCommerce がインストールされると、WordPress のアップロードディレクトリ内に `woocommerce_uploads` という新しいディレクトリを作成しようとします。そのため、`woocommerce_uploads` フォルダは承認済み製品ダウンロードディレクトリに含まれており、デフォルトで有効になっており、安全であると認識されています。

しかし、多くの場合、非常に大きなファイルの場合はクラウドストレージソリューションを使用するなど、ファイルを別の場所に保存することが望ましい場合があります。WooCommerceはこれを完全にサポートしていますが、それに伴う課題も認識しています。

- 会社のポリシーで、管理者が完全な読み取り/書き込み権限を持つ承認済みの場所にのみファイルを保存することが定められている場合があります。つまり、従業員が個人のクラウドストレージアカウントに保存されているダウンロードファイルへのリンクを許可しない可能性があります。
- 管理していないドメイン経由でアクセスされたファイルへのリンクは、様々なセキュリティリスクをもたらす可能性があるため、事前に承認されたリストに記載されている場所のみに保存を許可することが望ましい場合があります。

承認済みダウンロード ディレクトリ機能は、これらの課題の解決に役立ちます。

WooCommerce では、**WooCommerce > 設定 > 製品 > 承認済みダウンロード ディレクトリ** にさまざまな設定が用意されており、サイト管理者が製品のダウンロードを保存および提供する場所を制御できます。

この場所から、承認済みディレクトリを追加、編集、削除できます。また、この機能全体を無効化または有効化することも可能です（ルールを個別に無効化または有効化することも可能です）。承認済みディレクトリはすべて、ファイルパスを含め、URL で表現されることに注意してください。

留意すべき点:

- スキーム（プロトコル）は重要です。つまり、`http://example.com/` は `https://example.com/` と同じではありません。必要に応じて両方を追加できます。また、「ワイルドカード」表記として機能する `//example.com` という省略形を使用して、同じ URL の `http` バージョンと `https` バージョンの両方をカバーすることもできます。
- ファイルパスを直接入力すると、保存後に **file://** スキームを使用して URL に自動的に変換されます。たとえば、`/directory/path/example/` と入力したファイルパスは、`file:///directory/path/example/` として保存されます。
- 承認された各ディレクトリは、すべてのサブディレクトリを暗黙的にカバーします。たとえば、`https://my.site/files/` を承認されたディレクトリのリストに追加した場合、`https://my.site/files/nested/sub-directories/` 内のファイルを製品に追加しても問題ありません。
- これらの設定はデジタルダウンロードにのみ影響します。WordPressメディアライブラリや画像処理全般には一切影響しません。

強調すると、**サイト管理者のみ** (または、マルチサイト ネットワークの場合はネットワーク管理者) がこのリストを変更する権限を持ち、**このページに対応するエントリがない限り**、他のユーザーは製品にダウンロード可能なファイルを追加できません。

- サイト管理者で、ストアの管理者があなただけの場合は、これらの点について心配する必要はありません。サイト管理者として、既存のルールに含まれていないダウンロード可能なファイルを追加すると、新しいルールが自動的に追加されます。
- [この機能を完全に無効にする](https://woocommerce.com/document/approved-download-directories/#enable-and-disable-rules)こともできます。
- 編集者やショップマネージャーなど、他のサイトユーザーが承認されていないディレクトリのURLを入力しようとすると、次のようなエラーが表示されます。これにより、サイト管理者に問い合わせてサポートを受けることができます。

**注記：**

[製品ベンダー](https://woocommerce.com/products/product-vendors/)拡張機能の場合、このようなエラーメッセージはベンダーレベルのユーザーには表示されません。

設定画面上部にある**ルールの適用を停止/開始**ボタンは、承認済みディレクトリの管理が困難な場合にルールの適用を切り替えます。例えば、すべての画像を追加する人が「管理者」ではなく「ショップマネージャー」の役割を持っている場合などです。

- すべてのルールを有効にするには、管理者は**「ルールの適用を開始」ボタン**をクリックします。ボタンの表示が「ルールの適用を停止」に変わります。同様に、**「ルールの適用を停止」**をクリックすると無効になります。
- 管理者は**「すべて有効」**ボタンと**「すべて無効」**ボタンを使用して、それぞれすべてのルールを有効または無効にすることもできます。
- ルールの一部またはすべてを選択し、**「一括編集」**メニューを使用することで、ルールを一括で有効化または無効化することもできます。
- 個々のルールを有効にするには、管理者はリスト内のルールにマウスポインターを合わせ、表示されるクイックリンクから「有効化/無効化」を選択します。または、ルールのURLをクリックし、「承認済みディレクトリの編集」画面で有効化/無効化を選択します。

すべてのルールをリセットまたは削除するには、以下の[追加ツールのセクション](https://woocommerce.com/document/approved-download-directories/#additional-tools)を参照してください。

支払いをしていない顧客がダウンロード ファイルにアクセスできる場合は、次のいずれかを意味します。

- ファイルは WooCommerce のアップロードメカニズム以外の方法でメディアライブラリに追加されました。WordPress のメディアライブラリは、投稿やページに添付されたすべての画像が配置されるため、デフォルトで公開されています。ダウンロード可能な製品を作成する場合は、メディアライブラリから既存のファイルを選択するのではなく、WooCommerce 製品内からファイルをアップロードする必要があります。
- ファイルのダウンロードに **リダイレクトのみ（安全でない）** 方式を使用しています。この方法を使用すると、ファイルは保護されず、アップロードリンクを知っているユーザーは誰でも、ログインしていなくてもファイルにアクセスできるようになります。詳細については、[デジタル/ダウンロード製品の取り扱い](https://woocommerce.com/document/digital-downloadable-product-handling/) をご覧ください。

サイト管理者として、この機能をさらに細かく制御する必要がある場合があります。例えば、公式のインポートツール以外の方法で商品データをインポートした場合、新しいダウンロードパスの作成がWooCommerceによって最初は認識されない可能性があります。そのため、**WooCommerce > ステータス > ツール**にいくつかの追加ツールが用意されています。

- **承認済みダウンロードディレクトリを同期** — このツールは、製品カタログの新規スキャンを開始します。既存の承認済みダウンロードディレクトリルールに含まれていないダウンロード可能な製品パスが検出されると、それらはリストに追加されますが、初期状態では無効になっています。
- **承認済みダウンロードディレクトリリストを空にする** — 既存の承認済みダウンロードディレクトリリストを完全に削除します。

特に、より複雑なマルチユーザー設定では、ダウンロード可能なファイルが製品に追加され、後で承認済みダウンロード ディレクトリ リスト内の対応するルールが無効化または削除される可能性があります。

このような場合、影響を受けるダウンロード可能なファイルも無効としてマークされ、[ファイル URL] フィールドの右側に赤いアスタリスクが表示されます。

サイト管理者が問題を修正するまで、製品を購入した顧客は無効化されたダウンロードにアクセスできなくなります。

まだ質問があり、サポートが必要ですか?

このドキュメントは、無料の[コア WooCommerce プラグイン](https://wordpress.org/plugins/woocommerce/)に関するものです。このプラグインのサポートは、[WordPress.org のコミュニティフォーラム](https://wordpress.org/support/plugin/woocommerce) で提供されています。このフォーラムを検索すると、同じ質問が過去に投稿され、回答されているケースがよくあります。フォーラムを利用するための WordPress.org アカウントをまだ作成していない場合は、[作成方法はこちら](https://make.wordpress.org/contribute/join/)をご覧ください。

- ここで紹介したコア機能を**拡張**したい場合は、[WooCommerce マーケットプレイス](https://woocommerce.com/products/)で利用可能な拡張機能をご確認ください。
- 継続的な高度なサポートや WooCommerce 向けの**カスタマイズ**が必要ですか？[Woo エージェンシー パートナー](https://woocommerce.com/customizations/)をご活用ください。
- 独自の WooCommerce 統合機能や拡張機能を開発している**開発者**ですか？[開発者向けリソース](https://developer.woocommerce.com/)をご確認ください。

必要な情報が見つからない場合は、下のフィードバック サムを使用してお知らせください。

