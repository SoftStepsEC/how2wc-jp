---
title: サイトデータベースのインポートとエクスポート
url: https://woocommerce.com/document/import-and-export-a-site-database/
---

WordPress はデータベースを使用して、WooCommerce ストアのすべてのコンテンツと設定を構造化された形式で保存します。

データはテーブルに整理され、商品、顧客、注文など、それぞれ異なる種類の情報に分けられます。この整理方法により、効率的なデータ管理が可能になり、ストアの詳細を簡単に保存、取得、更新できるようになります。

WordPress データベースの詳細については、[こちら](https://learn.wordpress.org/tutorial/the-wordpress-database/) をご覧ください。

**サイトのデータベースに変更を加えると、サイト全体に大きな影響を与える可能性があることにご注意ください。データベースに変更を加える前に必ずサイトのバックアップを作成し、不明な点がある場合はホスティングサービスにお問い合わせください。**

**注:**このドキュメントは、高度なトラブルシューティングに役立つガイドとして提供されています。ただし、記載されている手順は[サポートポリシー](https://woocommerce.com/support-policy/)の対象外であり、実装に関する直接的なサポートは提供できません。資格のあるWordPress/WooCommerce開発者のサポートをご希望の場合は、[Codeable](https://codeable.io/?ref=z4Hnp)または[Woo Agency Partner](https://woocommerce.com/development-services/)を強くお勧めします。

このガイドでは**phpMyAdmin**というツールを使用します。ホスティングサービスでも同じツール、または別のツールが使用されている場合があります。詳しくはホスティングサービスにお問い合わせください。

1. phpMyAdmin にログインします。
- まず、ホスティングサービスのコントロールパネルから phpMyAdmin にアクセスします。通常、ウェブホスティングサービスのダッシュボード内の「データベース」などのセクションにあります。
  
2. データベースを選択します。
- phpMyAdmin にアクセスすると、左側にデータベースの一覧が表示されます。バックアップしたいデータベースをクリックします。このデータベースには、WooCommerce 情報を含む、WordPress サイトのすべてのデータが含まれています。
  
3. データベースをエクスポートします。
- データベースを選択したら、画面上部の「エクスポート」タブをクリックします。
- データベースをエクスポートするための2つのオプション、「クイック」と「カスタム」が表示されます。
- **クイックエクスポート**：このオプションは簡単で、デフォルト設定を使用してデータベース全体をエクスポートします。
- **カスタムエクスポート**：このオプションでは、バックアップするテーブルの選択、出力形式の指定、その他の設定など、エクスポートプロセスをより細かく制御できます。
- ほとんどのユーザーにとって、「クイック」の方法で十分であり、よりシンプルです。
    
  
4. 形式を選択:
- データベースを保存する形式を選択します。SQL は最も一般的な形式で、MySQL データベースに簡単にインポートできるため、推奨されます。
  
5. バックアップをダウンロードします。
- 「実行」ボタンをクリックします。phpMyAdmin は、選択した形式でデータベースのバックアップのダウンロードファイルを生成します。このファイルを安全な場所に保存してください。
- このファイルは、ホスティングサーバーだけでなく、オフサイトまたはクラウドストレージにダウンロードして保存することが重要です。
  
6. バックアップを検証する:
- バックアップファイルが破損していないことを確認することをお勧めします。SQLファイルをテキストエディタで開き、完全なデータセットが含まれていること、および「-- Dump completed on....」という行で終わっていることを確認してください。
  

phpMyAdminを使ってWordPressサイトのデータベースをインポートする方法

1. phpMyAdmin にアクセスします。
- ホスティングアカウントにログインし、phpMyAdmin にアクセスします。
  
2. 既存のデータベースを選択します。
- phpMyAdmin の左側のリストから、使用したい既存のデータベースを見つけてクリックします。WordPress サイトに関連付けられている正しいデータベースであることを確認してください。
  
3. データベースの準備（オプション）:
- 必要に応じて、新しいデータをインポートする前に、競合を避けるため、現在のデータベースをクリアすることができます。これを行うには、すべてのテーブルを選択し、「削除」を選択して削除します。**この手順では現在のデータが削除されるため、十分に注意してください。実行する前に必ずバックアップを作成してください。**
  
4. データベースをインポートします。
- データベースを選択した状態で、ページ上部の「インポート」タブをクリックします。
- 「インポートするファイル」セクションで「ファイルを選択」をクリックし、インポートするSQLファイルを選択します。これは、バックアップファイル、またはインポートするデータを含む別のSQLファイルである必要があります。
- その他のオプションはデフォルト設定のままにしておきます。ほとんどのWordPressデータベースのインポートでは、これで十分です。
  
5. インポート処理を開始します。
- ページ下部の「実行」ボタンをクリックします。phpMyAdmin がファイルのアップロードを開始し、選択したデータベースにインポートします。ファイルサイズが大きい場合は、時間がかかる場合があります。
  
6. エラーの確認:
- インポートが完了すると、phpMyAdmin にインポートのステータスを示すメッセージが表示されます。エラーがある場合は、その詳細が表示されます。よくある問題としては、ファイルサイズの制限や SQL 構文エラーなどが挙げられます。
  
7. WordPressの設定を更新する（必要な場合）
- データベースの詳細（名前、ユーザー名、パスワード）が変更された場合は、WordPressの設定ファイル（wp-config.php）を更新して変更を反映させます。DB_NAME、DB_USER、DB_PASSWORDの各フィールドが正しいことを確認してください。
  
8. サイトの動作確認:
- WordPressサイトにアクセスし、期待通りに動作していることを確認します。すべてのページが正しく読み込まれ、コンテンツが期待どおりに表示されるか確認してください。
  

サイトのデータベースを安全に保つことは、不正アクセスやデータ侵害からウェブサイトを守るために不可欠です。データベースのセキュリティを強化するための一般的なガイドラインを以下に示します。

- **強力なパスワードを使用する:** データベースへのアクセスには、常に強力で一意のパスワードを使用し、定期的に更新してください。
- **定期的に更新する:** データベースソフトウェア、WordPress、プラグイン、テーマを最新の状態に保ち、セキュリティ上の脆弱性を解消してください。
- **データベースへのアクセスを制限する:** 攻撃のリスクを軽減するため、データベースへのアクセスを必要なIPアドレスのみに制限してください。データベース設定を使用して、不明なIPをブロックしてください。
- **定期的なバックアップ:** 定期的なバックアップのスケジュールを設定し、安全な場所に保存することで、データ損失や侵害からの迅速な復旧を支援します。
- **データの暗号化:** データベース内の機密データを暗号化し、データベースへのアクセス時に安全な接続（SSL/TLSなど）を確保してください。
- **最小権限の原則を適用する:** ユーザーとアプリケーションには、必要なタスクを実行するために必要な権限のみを付与してください。
- **監視と監査:** アクセスログを監視し、異常なアクティビティや不正なアクセス試行に関するアラートを設定してください。
- **デフォルトのテーブルプレフィックスを変更:** デフォルトの `wp_` プレフィックスから、より分かりにくいプレフィックスに変更することで、SQLインジェクション攻撃の防御に役立ちます。この設定は、初期インストール時に更新するか、既存のウェブサイトの場合は `wp-config.php` ファイルを編集し、データベーステーブルと関連する参照を調整することで変更できます。この変更にはプラグインの使用を検討するか、ホスティングサービスに問い合わせてサポートを受けてください。

これらのヒントに従うことで、WordPressデータベースのセキュリティを強化できます。これらの変更、特にデータベースプレフィックスの変更方法がわからない場合は、ホスティングサービスにお問い合わせください。

まだ質問があり、サポートが必要ですか?

- ヘルプデスクからハピネスエンジニアに[お問い合わせ](https://woocommerce.com/my-account/create-a-ticket/)ください。WooCommerce.comで開発または販売されている拡張機能、およびJetpack/WordPress.comをご利用のお客様には、サポートを提供しています。
- お客様でない場合は、[WooCommerceサポートフォーラム](https://wordpress.org/support/plugin/woocommerce/)でサポートを探すか、Wooエージェンシーパートナーにご依頼いただくことをお勧めします。これらのエージェンシーは、高度にカスタマイズされ、拡張性の高いオンラインストアの構築で実績のある信頼できるエージェンシーです。[Wooエージェンシーパートナーの詳細](https://woocommerce.com/development-services/)

