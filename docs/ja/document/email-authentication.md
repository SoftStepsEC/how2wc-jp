---
title: 電子メール認証と送信者の要件
url: https://woocommerce.com/document/email-authentication/
---

このドキュメントでは、メール認証とは何か、その要件、そしてストアのメールが正常に配信されるように実装する方法について説明します。

オンライン取引やコミュニケーションが私たちの生活の中心となっているこのデジタル時代において、メールのやり取りの完全性はこれまで以上に重要です。WooCommerceストアからの送信メールを認証することで、メッセージが実際にあなたから送信されたものなのか、それとも承認された第三者からあなたに代わって送信されたものなのかを顧客に証明できます。

メールコミュニケーションの真正性と信頼性を確保することは、単なるベストプラクティスではなく、**必須**です。サイバー脅威が進化し、フィッシング攻撃がより巧妙化する中、メール送信者としての本人確認は、メールエコシステムの保護に役立ち、顧客の信頼を維持する上で不可欠です。これは、ビジネスオペレーションの安全確保の重要な要素です。

追加の参考資料として関連文書:

- [メールのトラブルシューティング](https://woocommerce.com/document/email-faq/)
- [メールの仕組みとSMTPプロバイダー](https://woocommerce.com/document/email-smtp-providers/)

メール認証は、送信者が本人であることを確認するものです。受信トレイはこの認証をチェックすることで、メールが本物で信頼できるものであることを確認します。一部のパブリックドメインメールプロバイダー（Gmail、Yahoo!など）は[認証要件](https://woocommerce.com/document/email-authentication/#email-authentication-and-delivery-requirements)を実装しており、これらの要件が満たされていない場合、メールは配信されません。

送信者は、SPF、DKIM、DMARC などの業界標準を使用して強力な電子メール認証を実装できます。

SPFレコードを使用すると、送信者は特定のドメインからのメール送信を許可するIPアドレス（または承認済みメールサーバー）を指定できます。これにより、サービスプロバイダーは、メールのドメインのSPFレコードと一致しないIPアドレスから送信されたメール（詐欺メールやフィッシングメールなど）を拒否できます。

DKIMレコードは、組織が送信するメールにデジタル署名を追加します。受信者のメールサーバーは、メールの署名がドメインネームシステム（DNS）設定のDKIMレコードと一致するかどうかを確認します。署名が一致する場合、メールの内容は変更されておらず、正当な送信者からのものであることを示します。

DMARCを使用すると、送信者はメッセージがDKIMまたはSPFによって保護されていることを示すことができます。DMARCは、これらの認証方法のどちらも通過しない場合に受信者が行うべきことを指示します。

サイトから送信されるメールのうち、「@gmail.com」や「@yahoo.com」などのパブリックドメインプロバイダーからのメールは、（非常に）高い確率でスパムとして分類されます。これはマーケティングメールと注文通知メールの両方に当てはまります。メールマーケティングプラットフォームごとに処理方法が若干異なります。

以下のアクションから始めることをお勧めします。

1. **WooCommerce > 設定 > メール** で WooCommerce のメール設定を確認し、使用しているプラ​​グインの設定も確認して、ブランドドメイン（例：me@mybrand.com）で送信され、`@gmail.com` や `@yahoo.com` のアドレスで送信されていないことを確認してください。
2. ホスティングサービスがストアのメールを配信している場合（最も一般的）、ホスティングサービスの認証に関するドキュメントを確認するか、カスタマーサポートに問い合わせて、ストアのメールが SPF、DKIM、DMARC で認証されていることを確認してください。各ホスティングサービスには独自のプロセスがあり、コンプライアンス確保のサポートを受けることができます。
3. WP Mail SMTP や MailPoet などのプラグインを使用してストアのメールを配信している場合は、ブランドドメインの認証方法に関する各サービスの推奨事項に従う必要があります。
4. ストアから [mail-tester.com](https://www.mail-tester.com/) などのサービスにテストメールを送信し、認証が有効であることを確認してください。店舗でテスト注文をしてみるのも良い方法です。テスト結果は下の画像のようになるはずです。

2024年2月1日より、GoogleとYahooはメール送信者に関する新しい要件を導入しました。この変更により、メールが顧客に届かなくなる可能性がありますので、新しい要件への準拠は必須とみなされます。トランザクションメール、マーケティングメールを問わず、すべての種類のメールは新しい要件に準拠する必要があります。

これは、Google と Yahoo が詐欺メールを識別しやすくすることで、受信者をスパムから保護することを目的としています。

トランザクションメールのみを送信する場合でも、メールキャンペーンが確実にオーディエンスに届くように、ドメインの認証を行うことが重要です。メール業界ではすべての送信者に認証を求める傾向が強まっており、GoogleやYahoo以外のプロバイダーも追随する可能性があります。

Gmail アカウントに 1 日あたり 5,000 件以上のメッセージを送信する場合は、追加の要件が適用されます。詳細については、次のセクションを参照してください。

[Google によると](https://support.google.com/a/answer/81126)、Gmail アカウントにメールを送信するすべての送信者、および Yahoo Mail でホストされているすべてのドメインとコンシューマー メール ブランドは、**次の要件を満たす必要があります**。

- ストアの「From:」アドレスからGmailを削除します。
- ドメインにSPFまたはDKIMメール認証を設定します。
- スパム率を0.10%未満に維持します。
- スパム率が0.30%以上にならないようにします。
- 送信元ドメインまたはIPアドレスに、有効なDNSレコード（PTRレコードとも呼ばれます）が設定されていることを確認します。
- メールの送信には、トランスポート層セキュリティ（TLS）接続を使用します。
- メッセージをインターネット メッセージ形式（IMF）標準に従ってフォーマットします。

Gmail アカウントに 1 日あたり 5,000 件以上のメッセージを送信する場合は、次の要件があります。

- 大規模な送信者には、SPFとDKIMの両方が必要です。DMARCメール認証は、送信ドメインに対して両方のプロトコルが使用されていることを確認します。
- マーケティングメッセージと購読者メッセージは、ワンクリックでの購読解除をサポートし、メッセージ本文に購読解除リンクを含める必要があります。

Gmailアカウントに1日に5,000通以上のメッセージを送信する企業は、マーケティングメールのワンクリック配信停止機能を実装する必要があります。欧州連合（EU）居住者にメールを送信したことがある、または今後送信する予定がある場合、これは[GDPRの配信停止要件](https://gdpr.eu/email-encryption/#:~:text=Essentially%20this%20means%20that%20an,to%20unsubscribe%20in%20every%20communication.)に基づくものであり、すべてのマーケティングコミュニケーションにおいて配信停止オプションを提供しなければならないと規定されています。

ワンクリックの仕組みは、人間ではなく機械が起動することを目的としています。例えば、Gmailでは、ユーザーは受信トレイから直接マーケティングメールの購読を解除できます。この機能は2024年2月1日から必須となりました。

販売者は次のことを行う必要があります。

- **ストアのドメインに関連付けられたメールアドレスを使用してください**。`@gmail.com` や `@yahoo.com` などのパブリックドメインのアドレスは使用しないでください。
- さらに、メールの配信率を向上させ、新しい要件に準拠するために、適切な認証プロトコル（上記の SPF、DKIM、DMARC プロトコル）を使用してメール設定が構成されていることを確認してください。これにより、**ストアからのメールがスパムとしてマークされるのを防ぎ**、顧客との重要なコミュニケーションが中断されるのを防ぐことができます。

