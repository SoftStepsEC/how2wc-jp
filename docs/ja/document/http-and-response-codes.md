---
title: HTTPとレスポンスコード
url: https://woocommerce.com/document/http-and-response-codes/
---

ウェブサイトを管理する際、HTTPとレスポンスコードを理解することは、サイトをスムーズに動作させるのに役立ちます。HTTP（HyperText Transfer Protocol）は、ユーザーとサイトがウェブ上でデータを通信するための基盤を形成しています。ウェブサイトを閲覧する場合でも、自分でウェブサイトを管理する場合でも、インターネット上のあらゆるやり取りにはHTTPリクエストとレスポンスが関わっています。

HTTPコードは、サーバーがブラウザに返すレスポンスです。これらのコードは単なる数字ではなく、リクエストが成功したか、エラーが発生したか、あるいは別のアクションが必要かどうかを示します。

**注:**このドキュメントは、高度なトラブルシューティングに役立つガイドとして提供されています。ただし、記載されている手順は[サポートポリシー](https://woocommerce.com/support-policy/)の対象外であり、実装に関する直接的なサポートは提供できません。資格のあるWordPress/WooCommerce開発者のサポートをご希望の場合は、[Codeable](https://codeable.io/?ref=z4Hnp)または[Woo Agency Partner](https://woocommerce.com/development-services/)を強くお勧めします。

HTTP は、要求と応答のプロセスに依存するクライアント サーバー モデルで動作します。

1. **リクエストの開始**: ブラウザにURLを入力したり、リンクをクリックしたりすると、ブラウザはリクエストされたURLをホストするサーバーへのTCP接続（ブラウザとサーバー間の信頼性の高いリンク）を確立します。この接続は、データの送受信を確実に行うために必要です。
2. リクエストの送信: 確立された接続を介して、ブラウザはサーバーにHTTPリクエストを送信します。このリクエストには以下の情報が含まれます。
- **HTTPメソッド**: サーバーに実行してほしいアクションを示します。例えば、GET（データ取得）やPOST（データ送信）などです。
- **リソースパス**: ウェブページや画像など、リクエストするリソースの場所を指定します。
- **ヘッダー**: ブラウザの種類、サポートされているコンテンツ形式、認証トークンなどの追加オプションや情報が含まれます。
  
3. **リクエストの処理**: サーバーはリクエストを受信して​​処理します。データの取得、他のバックエンドシステムとのやり取り、あるいはリクエストに基づいて動的なコンテンツを生成するためのサーバーサイドロジックの実行などを行います。
4. レスポンスの生成: リクエストを処理した後、サーバーはHTTPレスポンスで応答します。このレスポンスには以下の情報が含まれます。
- **ステータスコード**: リクエストの結果を示す数値コード（例: 成功の場合は200、見つからない場合は404）。
- **レスポンス本文**: リクエストされた実際のデータ（HTMLコンテンツなど）。
- **レスポンスヘッダー**: コンテンツタイプやキャッシュポリシーなど、ブラウザへのレスポンス処理方法の指示。
  
5. **接続の終了**: ブラウザとサーバー間の接続は、ヘッダーに応じて終了するか、次のリクエストのために開いたままになる場合があります。これにより、接続の再確立に必要な時間が短縮され、後続のやり取りが最適化されます。

以下に、リクエスト応答プロセスの詳細な例を示します。

例えば、example.com のようなウェブサイトのホームページにアクセスしたいとします。ブラウザは次のような HTTP リクエストを送信します。

```
GET / HTTP/1.1
Host: example.com
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.36
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8
Accept-Language: en-US,en;q=0.5
Accept-Encoding: gzip, deflate
Connection: keep-alive
```

- **GET**: 指定されたリソースからデータをリクエストするために使用されるHTTPメソッド。
- **/**: サーバー上のリソースへのパス（この場合はルートディレクトリ）。
- **HTTP/1.1**: 使用されているHTTPプロトコルのバージョン。
- **Host**: サーバーのドメイン名（この場合はexample.com）。
- **User-Agent**: リクエストを送信したブラウザに関する情報。
- **Accept**: クライアントが処理できるコンテンツの種類。
- **Accept-Language**: クライアントの言語設定。
- **Accept-Encoding**: クライアントが受け入れるエンコード形式。
- **Connection**: トランザクション終了後に接続を閉じるか、維持するかを示します。

上記のリクエストに応じて、サーバーは次のようなものを返す場合があります。

```
HTTP/1.1 200 OK
Date: Mon, 23 Oct 2023 14:22:18 GMT
Server: Apache/2.4.1 (Unix)
Last-Modified: Wed, 20 Oct 2023 07:28:00 GMT
Content-Type: text/html; charset=UTF-8
Content-Length: 3423
Accept-Ranges: bytes
Connection: close

<html>
<head>
    <title>An Example Page</title>
</head>
<body>
    <h1>Welcome to example.com!</h1>
    <p>This is a simple example of an HTTP response.</p>
</body>
</html>
```

- **HTTP/1.1 200 OK**: ステータス行には、HTTP バージョン、ステータス コード (200)、および要求が成功したことを示す理由フレーズ (OK) が含まれます。
- **Date**: 応答が送信された日時。
- **Server**: 使用されているサーバー ソフトウェアに関する情報。
- **Last-Modified**: 要求されたリソースが最後に更新された日時。
- **Content-Type**: 応答に含まれるデータのタイプ。
- **Content-Length**: 応答本体の長さ (バイト単位)。
- **Accept-Ranges**: サーバーがリソースの範囲要求を受け入れることを示します。
- **Connection**: 要求の完了後に接続を閉じることを指定します。

この例は、HTTP を使用したクライアント (ブラウザ) とサーバー間の基本的なやり取りを示しています。

HTTPS (Hypertext Transfer Protocol Secure) は HTTP の安全なバージョンであり、暗号化を使用してブラウザと Web サイト間で交換されるデータを保護します。

SSL（Secure Sockets Layer）証明書を使用して安全な接続を確立することで、データのプライバシーが確保され、接続先のウェブサイトが本物であることを保証します。この追加のセキュリティレイヤーにより、機密情報が傍受されるのを防ぎます。

[WooCommerce ストアの SSL と HTTPS の詳細については、こちら](https://woocommerce.com/document/ssl-and-https/) をご覧ください。

ウェブを閲覧していると、HTTPエラーメッセージが表示されることがあります。これらのエラーは、ウェブサイトの操作中に何らかの問題が発生したことを示しています。ステータスコードの最初の数字によって、HTTPコードは5つのカテゴリに分類されます。

- 1xx (情報): これらのコードは、サーバーがリクエストを受信し、一時的なレスポンスで処理を続行していることを示します。
- 2xx (成功): これらのコードは、サーバーがリクエストを正常に受信、理解、承認したことを示します。
- 3xx (リダイレクト): これらのコードは、リクエストを完了するには別のURLへのリダイレクトなどの追加アクションが必要であることをブラウザに通知します。
- 4xx (クライアントエラー): これらのコードは、リクエストの構文が間違っている、またはリクエストを処理できないことが原因で発生したエラーを示します。たとえば、要求されたページが利用できない場合の 404 Not Found エラーなどです。
- **5xx (サーバーエラー)**: これらは、500 内部サーバーエラーなど、有効なリクエストを処理できないサーバー側の問題を示します。

これらのカテゴリを理解することは、ウェブサイトが期待どおりに動作しない場合に問題を診断し、解決するのに役立ちます。各カテゴリは、クライアント側の問題からサーバー側の問題まで、それぞれ異なる責任領域を特定しており、解決には異なるアプローチが必要になる場合があります。

各カテゴリ内で最も一般的な HTTP コードを箇条書きでリストした簡潔な概要を以下に示します。

- 1xx (情報)
- **100 続行**: サーバーはリクエストの最初の部分を受信し、残りの部分を待機しています。
- **101 プロトコル切り替え**: リクエスト元がサーバーにプロトコルの切り替えを要求し、サーバーが同意しました。
  
- 2xx (成功)
- 200 OK: サーバーはリクエストを正常に受信し、理解し、受け入れました。
- 201 Created: サーバーはリクエストを処理し、結果として新しいリソースを作成しました。
  
- 3xx (リダイレクト)
- **301 恒久的に移動**: 要求されたリソースのURLが恒久的に変更されました。レスポンスには新しいURLが提供されます。
- **302 見つかりました**: サーバーが一時的なリダイレクトを検出しました。これは一時的なものなので、次回はこのURLを再度使用してください。
  
- 4xx (クライアントエラー)
- **400 不正なリクエスト**: クライアントエラーのため、サーバーはリクエストを処理できません。
- **401 権限がありません**: 必要な認証情報が提供されていないか、無効です。
- **403 禁止**: サーバーはリクエストを理解しましたが、処理を拒否しています。
- **404 見つかりません**: サーバーは要求されたリソースを見つけることができません。
- **405 メソッドが許可されていません**: リクエストで指定されたメソッドは、リソースに対して許可されていません。
- **408 リクエストタイムアウト**: サーバーはリクエストの待機中にタイムアウトしました。
- **429 リクエストが多すぎます**: ユーザーが一定時間内に送信したリクエストが多すぎます。
  
- 5xx (サーバーエラー)
- **500 内部サーバーエラー**: サーバーで予期しない状況が発生しました。
- **501 未実装**: サーバーはリクエストを処理するために必要な機能をサポートしていません。
- **502 不正なゲートウェイ**: サーバーは上流サーバーから無効な応答を受信しました。
- **503 サービスを利用できません**: サーバーは現在、一時的な過負荷または定期メンテナンスのため、リクエストを処理できません。
- **504 ゲートウェイタイムアウト**: サーバーは上流サーバーから適切なタイミングで応答を受信しませんでした。
  

ウェブ閲覧中やサイト管理中に、エラーコードが見つかる場所はいくつかあります。エラーコードが最もよく表示される場所は次のとおりです。

1. **ウェブブラウザ**：HTTPエラーが発生すると、ほとんどのウェブブラウザはブラウザウィンドウにエラーコードを直接表示します。たとえば、ページが見つからない場合は「404 Not Found」エラーが表示されます。同様に、サーバーエラーの場合は「500 Internal Server Error」が表示されることがあります。
2. 開発者ツール：ブラウザの開発者ツールのネットワークタブを使用すると、各HTTPリクエストとレスポンスの詳細情報を表示できます。これには、各トランザクションのステータスコードも含まれます。アクセス方法：
- Chrome、Firefox、またはEdgeでウェブページを右クリックし、「検証」または「要素の検証」を選択し、「ネットワーク」タブに移動します。
- ページを再読み込みしてHTTPトラフィックをキャプチャし、エラーに対応するリクエストを探します。それをクリックすると、ステータスコードを含む詳細情報が表示されます。
  
3. サーバーログ：サーバー側のログは、エラーコードを特定するための貴重なリソースです。特に、5xxエラーなど、クライアント側で目に見える変化が生じない可能性のあるエラーコードの場合に有効です。これらのログへのアクセス方法は、ホスティング環境によって異なります。
- ApacheやNginxなどのサーバーの場合、ログは通常、/var/log/apache2や/var/log/nginxなどのディレクトリに保存されます。
- マネージドホスティング環境では、ホスティングコントロールパネルからこれらのログにアクセスする必要がある場合があります。
- **この件に関する詳細は、ホスティングプロバイダーにお問い合わせください。**
  
4. **メールアラートと監視ツール**：ウェブサイト監視ツールを使用すると、サイトが特定のHTTPエラーコードを返した場合に、メールまたはSMSでアラートを受け取ることができます。これらのツールはサイトを継続的にチェックし、問題が発生した場合に即座に通知を送信します。

これらのエラー コードの場所を特定することは、問題のトラブルシューティングの第一歩であり、迅速に対応してサイトの信頼性を維持することができます。

**注:**このドキュメントは、高度なトラブルシューティングに役立つガイドとして提供されています。ただし、記載されている手順は[サポートポリシー](https://woocommerce.com/support-policy/)の対象外であり、実装に関する直接的なサポートは提供できません。資格のあるWordPress/WooCommerce開発者のサポートをご希望の場合は、[Codeable](https://codeable.io/?ref=z4Hnp)または[Woo Agency Partner](https://woocommerce.com/development-services/)を強くお勧めします。

HTTP エラーを特定したら、次のトラブルシューティング手順に従って根本原因を見つけることができます。

- **エラーコードを確認する**：特定のHTTPエラーコードを調べて、問題がクライアント側（4xxエラー）かサーバー側（5xxエラー）かを把握します。これは、トラブルシューティングの指針となります。
- **最近の変更を確認する**：ウェブサイトまたはサーバーの設定を最近更新した場合は、これらの変更内容を確認してください。以前の設定に戻すことで問題が解決する場合もあります。
- **サーバーログを調べる**：サーバーログにアクセスして、詳細なエラーメッセージや、特に5xxエラーの場合に問題の原因となる可能性のある手がかりを探します。
- **ホストに連絡する**：エラーが解決せず、自分で解決できない場合は、ホスティングプロバイダーにお問い合わせください。ホスティングサービスは、サーバー構成やネットワークの問題に関する詳細な情報を持っていることが多く、それらはすぐには明らかではない場合があります。ホスティングサービスは直接的なサポートを提供し、単純な設定エラーを超えた問題の解決に不可欠です。
- **監視ツールを使用する**：HTTPエラーが発生したときに警告を発する監視ツールの設定を検討してください。このプロアクティブなアプローチは、ユーザーエクスペリエンスに影響を与える可能性のある問題を迅速に解決するのに役立ちます。

