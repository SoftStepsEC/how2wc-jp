---
title: ウェブフック
url: https://woocommerce.com/document/webhooks/
---

このガイドでは、Webhook とは何か、どのように使用するのかを詳しく説明します。

Webhookは、指定したURLに送信されるイベント通知です。販売者（またはその開発者）は、あるサイトのイベントによってトリガーされるWebhookを設定し、別のサイトでの動作を呼び出すことができます。

Webhook は、サイトをサードパーティのサービスや、Webhook をサポートするその他の外部アプリケーション プログラミング インターフェイス (API) と統合するのに役立ちます。

Webhook は、注文、製品、クーポン、顧客を追加、編集、削除するたび、購入が行われるたびなどにイベントをトリガーできます。

**サポート範囲:**

**サポートポリシー**に基づき、カスタマイズに関するサポートは提供できません。スニペットのカスタマイズや機能拡張が必要な​​場合は、[Woo エージェンシー パートナー](https://woocommerce.com/development-services/) または [Codeable](https://www.codeable.io/partners/woocommerce/?ref=qGefA6#tiers) の WooCommerce 開発者にご相談いただくことをお勧めします。

WooCommerce アクションで Webhook を使用することもできます。たとえば、アクション `woocommerce_add_to_cart` を使用して、商品がショッピング カートに追加されるたびに使用する Webhook を作成します。

Webhook を使用すると、サードパーティ アプリを WooCommerce と統合することもできます。

新しい Webhook を作成するには:

1. **WooCommerce > 設定 > 詳細設定 > Webhooks** に移動します。
2. **Webhook を追加** を選択します。**Webhook データ** フォームが表示されます。

1. 要件に応じて各フィールドに入力します。
- **名前** – Webhookの説明を入力します。空白のままにした場合、**名前**フィールドはデフォルトで「Webhook作成日 [作成日時]」に設定されますが、後で更新できます。
- **ステータス** – 応答する場合は**アクティブ**、応答しない場合は**一時停止**、エラーのために応答しない場合は**無効**に設定します。
- トピック – クーポン、顧客、注文、商品、アクションにリンクされたさまざまなイベントに基づいて、Webhookをトリガーするタイミングを指定します。サイトでアクティブなプラグインや拡張機能によっては、他のトピックも利用できる場合があります。
- **カスタムトピック**：このオプションは**上級ユーザー向け**です。`woocommerce_webhook_topic_hooks`フィルターを使用して、新しいカスタマイズされたトピックを導入できます。
    
- **アクションイベント** – 上記のフィールドで**アクション**が指定されている場合、このフィールドが追加され、このWebhookをトリガーするアクションを指定できます（例：顧客が商品をショッピングカートに追加した場合の`woocommerce_add_to_cart`）。
- **配信URL** – Webhookレスポンスが配信されるURLを指定します。
- **シークレット** – シークレットキーは、配信されたWebhookのハッシュを生成し、リクエストヘッダーに提供されます。何も入力されていない場合は、現在のAPIユーザーのコンシューマーシークレットがデフォルトになります。
  
2. **Webhook を保存** をクリックして変更を保存します。

**注**: Webhook がアクティブ化ステータスで初めて保存されると、配信 URL に ping が送信されます。

連続して5回以上配信に失敗した場合、WebhookはWooCommerceによって自動的に無効化されます。配信失敗とは、`2xx`、`301`、`302`以外の値を指します。例えば、配信URLが4xxまたは5xxのHTTPコードで応答した場合などが該当します。

失敗の制限を増減するには、`woocommerce_max_webhook_delivery_failures` フィルターを使用できます。

Webhook は投稿や製品と同じ方法でリストされます。

1. 変更したいWebhookを見つけます。
2. Webhook名にポインターを合わせると、**ID**、**編集**、**完全に削除**のオプションが表示されます。
3. **完全に削除**をクリックするか、**編集**をクリックして変更を加え、**保存**します。**一括操作**ドロップダウンから一括削除も可能です。

WooCommerce は、Webhook をトリガーするすべてのイベントのログを保存します。Webhook のログは、**WooCommerce > ステータス > ログ** で確認できます。ログファイルが多いサイトでは、「すべてのソース」ドロップダウンから **webhooks-delivery** などのソースを選択して、ログファイルのリストを絞り込むことができます。右上の検索ボックスを使用して、ログファイルの内容を検索できます。

ログを確認してサーバーからの配信と応答を確認できるため、統合とデバッグが簡単になります。

まだ質問があり、サポートが必要ですか?

このドキュメントは、無料の[コア WooCommerce プラグイン](https://wordpress.org/plugins/woocommerce/)に関するものです。このプラグインのサポートは、[WordPress.org のコミュニティフォーラム](https://wordpress.org/support/plugin/woocommerce) で提供されています。このフォーラムを検索すると、同じ質問が過去に投稿され、回答されているケースがよくあります。フォーラムを利用するための WordPress.org アカウントをまだ作成していない場合は、[作成方法はこちら](https://make.wordpress.org/contribute/join/)をご覧ください。

- ここで紹介したコア機能を**拡張**したい場合は、[WooCommerce マーケットプレイス](https://woocommerce.com/products/)で利用可能な拡張機能をご確認ください。
- 継続的な高度なサポートや WooCommerce 向けの**カスタマイズ**が必要ですか？[Woo エージェンシー パートナー](https://woocommerce.com/customizations/)をご活用ください。
- 独自の WooCommerce 統合機能や拡張機能を開発している**開発者**ですか？[開発者向けリソース](https://developer.woocommerce.com/)をご確認ください。

必要な情報が見つからない場合は、下のフィードバック サムを使用してお知らせください。

