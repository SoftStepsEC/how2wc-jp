---
title: 動的可変製品ドロップダウンのバリエーション数の制限を変更する
url: https://woocommerce.com/document/change-limit-on-number-of-variations-for-dynamic-variable-product-dropdowns/
---

カスタマイズは弊社の[サポートポリシー](https://woocommerce.com/support-policy/)の対象外ですので、お客様のサイトでの実装やトラブルシューティングをお手伝いすることはできません。

デフォルトでは、可変商品のバリエーションが30種類未満の場合、フロントエンドでバリエーションを選択するためのドロップダウンは動的になります。例えば、「サイズ」と「カラー」の属性を持つTシャツの場合、顧客がサイズを選択すると、AJAX経由でカラードロップダウンが更新され、選択されたサイズで利用可能なオプションのみが表示されます。

ただし、バリエーションが30種類以上ある場合、ドロップダウンは静的になり、すべての属性が表示されます。上記の例のように、Tシャツに30種類以上のバリエーションがある場合、「カラー」ドロップダウンには、選択したサイズで選択できないカラーオプションであっても、*すべてのカラーオプション*が表示され続けます。代わりに、選択できない組み合わせを選択すると、「申し訳ございません。ご選択いただいた組み合わせに一致する商品はありませんでした。別の組み合わせをお選びください。」というメッセージが表示されます。

これはサイトのパフォーマンスを向上させるために行われます。バリエーションの数が多い場合、選択するたびに利用可能な組み合わせを計算する必要があると、サイトのパフォーマンスがかなり低下する可能性があります。

ただし、必要に応じて `woocommerce_ajax_variation_threshold` フィルターを使用して、この制限を 30 から別の数値に変更できます。

| | 関数 custom_wc_ajax_variation_threshold( $qty, $product ) { |
| | 戻り値 10; |
| | } |
| | | | | | add_filter( 'woocommerce_ajax_variation_threshold', 'custom_wc_ajax_variation_threshold', 10, 2 ); |

