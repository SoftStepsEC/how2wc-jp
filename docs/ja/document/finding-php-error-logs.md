---
title: PHPエラーログの検索
url: https://woocommerce.com/document/finding-php-error-logs/
---

PHPエラーログは、WordPressとWooCommerceサイトで発生した問題を調査する際に役立ちます。このガイドでは、WooCommerce内またはホスティングサーバー上でPHPエラーログにアクセスする手順と情報を提供します。

WooCommerce には、WP Admin の **WooCommerce > ステータス > ログ** からアクセスできるログ システムがあり、PHP の致命的なエラーなどの情報が記録されます。

このログは、サーバー上のPHPエラーログに通常含まれる詳細情報を反映した、貴重な初期リソースとして機能します。さらなるトラブルシューティングのためにサーバー上のPHPログを探す前に、**まずこのログを参照**することをお勧めします。

ログ ファイルにアクセスするには:

1. ストアのWP管理ダッシュボードで、**WooCommerce > ステータス > ログ*** に移動します。*
2. **ログファイルの参照** の下に、利用可能なログファイルのリストが表示されます。

このインターフェースを使用すると、ログファイルを効率的に**フィルタリング**、**並べ替え**、**管理**できます。さらに、複数のログファイルを同時にダウンロードまたは削除するなどの一括操作も、必要なファイルを選択して一括操作ドロップダウンメニューを使用することで実行できます。

フィルタリングと並べ替え機能を用いて、対象を絞った検索を行うファイルグループを選択します。その後、関連する結果を含むファイル内の特定の行に直接リンクできます。

このビューでは、個々のログファイルの内容が表示され、新しいエントリの開始位置とその重大度レベルが強調表示されます。これにより、ユーザーはファイル内の特定の行を強調表示してパーマリンクを作成できるほか、各ログエントリの追加のコンテキスト情報を明確で読みやすい形式で表示できます。

この画面では、ファイル表示インターフェースの右上にあるボタンを使用して、ログ ファイルを **ダウンロード** するか、**完全に削除** することができます。

ログファイルの管理設定は、WP Admin の **WooCommerce > ステータス > ログ > 設定** から調整できます。設定可能なオプションは次のとおりです。

1. **Logger** では、ログ記録を有効または無効にできます。
2. **Log storage** では、ログエントリの保存場所を指定します。**File system (default)** が自動的に選択されます。代替オプションとして **Database** がありますが、これは本番サイトには推奨されません。この設定を変更しても既存のログエントリは移動されず、元の場所に残りますのでご注意ください。
3. **Retention period** では、ログエントリが自動的に削除されるまでの期間（日数）を定義します。デフォルト設定は30日です。
4. Level threshold では、ログを記録する際の最小の重大度レベルを指定します。これより低い重大度レベルは省略されます。デフォルト設定は None で、すべてのログが保存されます。オプションには以下が含まれます。
- Alert
- Emergency
- Debug
- Critical
- Error
- Warning
- Notice
- None
- Info
  
5. **ファイルシステム設定**: ログファイルが保存されるサーバー上の場所を指定します（例：`/srv/htdocs/wp-content/uploads/wc-logs/`）。`wp-config.php` ファイル内の `WC_LOG_DIR` 定数を新しいパスに設定することで、この場所を変更することもできます。

致命的なエラーを表示するには:

1. WP Admin で、**WooCommerce > ステータス > ログ** に移動します。
2. **ログファイルの参照** 画面で、**fatal-errors** ファイルを選択して開き、内容を確認します。

致命的エラーログに記録されるエラーの種類は、PHPの致命的エラー、ランタイムエラー、そしてPHP関数によってコード内で意図的にトリガーされたエラーです。例えば、ランタイムエラーはコード内のタイプミスによって発生することがあります。

致命的なエラーは、コード内のアクションを完了できない場合に発生します。致命的なエラーの例としては、以下のようなものがあります。

- 未定義の関数を呼び出す。
- 未定義の変数を使用する。
- null 値、あるいは使用できない変数に対して関数を呼び出す。

これには、タイムアウトなどの Web サーバー エラーは含まれません。

ログには次の内容が含まれます:

- エラー発生時のタイムスタンプ。
- 発生したエラー。
- エラーの原因となったコード内のファイルと行。
- スタックトレース。これは、エラー発生までの関数呼び出しとファイルの履歴のスナップショットです。

PHP エラー ログは、ホスティング サーバー上のいくつかの場所にあります。

- サーバーのルートフォルダ内（`error.log`）
- `public_html`（または同様のフォルダ）内（`error.log`）
- `var/logs` または同様のフォルダ内（`error.log`）
- さらに、WordPress で [デバッグを有効化](https://developer.wordpress.org/advanced-administration/debug/debug-wordpress/) し、ログをファイルに保存している場合は、`wp-content` フォルダ内（`debug.log`）に保存されます。

ファイルが見つからない場合は、PHP にファイルの場所を教えてもらうことができます。

1. WordPress ディレクトリのルートに `phpinfo.php` というファイルを作成します。
2. テキストエディタで `phpinfo.php` ファイルを開きます。
3. ファイルに次のコードを挿入します: `<?php phpinfo(); ?>`。
4. サイト上でファイルを開きます。例えば、サイトの URL が `example.com` の場合、`https://example.com/phpinfo.php` にアクセスするとファイルを開くことができます。
5. ページ内で `error_log` の値を検索します。ここに記載されたファイルパスは PHP エラーログの絶対パスです。サーバー上でそのアドレスにアクセスすると、PHP エラーログが表示されます。値が空の場合は、サイトのエラーをログに記録するための値を設定する必要があります。
6. 実際の表示は以下の図をご覧ください。

まだ質問があり、サポートが必要ですか?

このドキュメントは、無料の[コア WooCommerce プラグイン](https://wordpress.org/plugins/woocommerce/)に関するものです。このプラグインのサポートは、[WordPress.org のコミュニティフォーラム](https://wordpress.org/support/plugin/woocommerce) で提供されています。このフォーラムを検索すると、同じ質問が過去に投稿され、回答されているケースがよくあります。フォーラムを利用するための WordPress.org アカウントをまだ作成していない場合は、[作成方法はこちら](https://make.wordpress.org/contribute/join/)をご覧ください。

- ここで紹介したコア機能を**拡張**したい場合は、[WooCommerce マーケットプレイス](https://woocommerce.com/products/)で利用可能な拡張機能をご確認ください。
- 継続的な高度なサポートや WooCommerce 向けの**カスタマイズ**が必要ですか？[Woo エージェンシー パートナー](https://woocommerce.com/customizations/)をご活用ください。
- 独自の WooCommerce 統合機能や拡張機能を開発している**開発者**ですか？[開発者向けリソース](https://developer.woocommerce.com/)をご確認ください。

必要な情報が見つからない場合は、下のフィードバック サムを使用してお知らせください。

