---
title: 電子メールおよびSMTPプロバイダー
url: https://woocommerce.com/document/email-smtp-providers/
---

このドキュメントでは、メールの仕組みと、WooCommerce ストアのメールが顧客に確実に届くために**Simple Mail Transfer Protocol** (SMTP) プロバイダーが果たす役割について説明します。メールの仕組みを理解することは、メールをスムーズに運用する上で非常に重要です。

追加の参考資料として関連文書:

- [メールのトラブルシューティング](https://woocommerce.com/document/email-faq/)
- [メール認証と送信者の要件](https://woocommerce.com/document/email-authentication/)

高速郵便サービスのネットワークを通じて手紙を送るのと同じように、メールを送信することを想像してみてください。複数のステップが必要です。

- 何かがあなたに手紙を書くきっかけを与えなければなりません。
- あなたが手紙を書きます。
- 郵送方法を選びます。
- 郵便料金を支払います。
- ご希望の郵便局に手紙を提出します。
- 後は郵便局が引き継ぎます。

手紙はあなたの郵便受けから直接友達の家に届くのではなく、複数の郵便センターを経由して送られます。各センターは、手紙の詳細と配達先住所を確認してから、次のセンターに送ります。このプロセスが繰り返され、最終的に友達に届きます。

手紙と同様、電子メールには次の要件があります。

- トリガー
- 作成
- 認証
- メールサーバーに渡される
- 送信

そこから、まるで郵便局から郵便局へと移動するかのように、メールはインターネット上の複数のコンピューター間を移動し、受信サーバーに受信・検証されます。受信メールサーバーがメールがスパムではないことを確認すると、メッセージは迅速かつ正確に適切な受信トレイに届きます。

WordPressには、メール送信プロセスを開始するための組み込み関数[wp_mail()](http://codex.wordpress.org/Function_Reference/wp_mail)があります。このWordPressのコア関数はブリッジとして機能し、実際のメール送信機能ではありません。WooCommerceをはじめとする多くのプラグインは、サイトからメールを送信するために`wp_mail()`を利用しています。

いいえ、WordPressもWooCommerceも*直接*メールを送信することはありません。その仕組みは以下のとおりです。

- メールコンテンツを生成した後、WooCommerce は `wp_mail()` 関数を呼び出します。
- この関数は WordPress にメール処理を指示します。
- ただし、WordPress はメールサーバーではないため、このタスクは PHP に委任されます。
- PHP は Web サーバー上のローカルメールサーバーを検索し、メールを送信します。

つまり、電子メールは Web サーバーを離れる前に 3 つのステップを経ることになります。

専用のSMTPサービスを利用するには、提供されている専用プラグイン、またはあらゆるプロバイダーに接続できる汎用SMTPプラグインを使用できます。これらのツールは、`wp_mail()`関数のパスを調整し、PHPから選択したSMTPプロバイダーにメールを転送します。その後、SMTPサービスはメールをキューに入れ、そのインフラストラクチャを通じて送信します。

専用のSMTPプロバイダーを統合することで、ストアのメールコミュニケーションに大きなメリットがもたらされます。主なメリットは以下の3つです。

1. **配信性の向上:** SMTPプロバイダーはメール配信に特化しており、スパムとしてマークされるなどの一般的な問題を回避し、メールが顧客の受信トレイに確実に届くようにします。
2. **スケーラビリティ:** ストアの規模が拡大しても、SMTPプロバイダーは速度や信頼性を損なうことなく、増加するメール量に対応できます。ローカルのメールサーバーは、高負荷時に対応が困難になる可能性があります。
3. **詳細な分析:** 多くのSMTPサービスは、配信率、開封率、クリックスルー率など、メールのパフォーマンスに関する貴重な分析情報を提供します。これらのデータは、メール戦略の改善に役立ちます。

専用の SMTP サービスを導入すると、電子メール配信プロセスが効率化されるだけでなく、顧客とのより堅牢で効率的なコミュニケーション チャネルの実現にも貢献します。

これらはほとんどのウェブサイトで動作する専用のSMTPプロバイダーです。それぞれWordPress.orgにプラグインが用意されており、WordPressダッシュボードからインストールできます。また、使い始めるためのサポートも提供されています。

- MailPoet
- [毎月最大5000通のメールを無料で送信](https://account.mailpoet.com/) (送信可能な受信者は500人まで)。
  
- Mailjet
- [毎月6,000通のメールを無料で送信](https://www.mailjet.com/pricing/)
  
- Brevo（旧Sendinblue）
- [1日300通（月間約9,000通）までメールを無料で送信できます](https://www.brevo.com/pricing/)
  
- ActiveCampaign Postmark
- [有料プランは月間10,000通のメールから](https://postmarkapp.com/pricing)。
  
- WP Offload SES Lite
- ウェブサイトがAWSでホストされている場合、毎月62,000通のメールを無料で送信できます。または、[料金は1,000通あたり0.10ドルから](https://aws.amazon.com/ses/pricing/)。
  

MailPoet のチームが [SMTP と WordPress についての記事を書いています](https://www.mailpoet.com/blog/top-three-smtp-plugins-for-wordpress/)。役に立つかもしれません。

#### Gmail を SMTP プロバイダーとして使用できますか?

はい、ただしセットアッププロセスが少し複雑で、送信制限に達する可能性があります。

24時間以内に500人以上の受信者にメールを送信した場合、Gmailアカウントは無効になります。これには、Gmailウェブインターフェースから送信したメールと、ウェブサイトから送信しているすべてのメールが含まれます。[詳細](https://support.google.com/mail/answer/22839?hl=ja)

これらの使用制限に該当することが確実な場合は、WordPress.org で Gmail を SMTP プロバイダーとして設定するための無料プラグインをご利用いただけます。また、WordPress コミュニティの他のメンバーによる手順を説明したガイドもございます。

一部のメールが受信トレイや迷惑メールフォルダに届かず、見落とされてしまう理由を理解するのは、時に混乱を招くことがあります。スパムフィルターの仕組みを学ぶことで、なぜ一部のメールはブロックできても、他のメールはブロックできないのか理解しやすくなります。

#### メールがブロックされるのはなぜですか?

サーバーログやメールルートを調べずに、メールがブロックされる正確な理由を特定するのは困難です。しかし、簡単に説明すると以下のようになります。

- スパムフィルターは、明らかにスパムであるコンテンツを探すだけでなく、以下のような複数の要素を評価します。
- メールを送信しているIPアドレス
- 送信者の詳細（ドメインやメールの認証状況を含む）
- そのIPまたは送信者から送信されたメールの量
- その送信者からのメールがスパムとしてマークされる頻度
- メールの具体的な文言やフォーマット
  
- 重要な問題は、多くの場合、メールの送信元にあります。これは、スパムフィルターにおける「レピュテーション」に影響を与えます。

WooCommerce メールは、構成やフォーマットにわずかな違いがあっても、スパムとして判定されブロックされる可能性があります。サイトのメールを認証しないと、配信に問題が生じることもあります。[メール認証について詳しくはこちら](https://woocommerce.com/document/email-authentication/)

#### メールがスパム フィルターによってブロックされている場合、なぜスパム フォルダーにメールが届かないのでしょうか?

メールが受信トレイを経由せず、スパムフォルダに表示されない場合、多くの場合、外部のスパムフィルターがメールクライアントに到達する前にメールを遮断しているためです。メールが最後に通過するスパムフィルターは、メールクライアントに関連付けられたフィルターで、ユーザーの設定と、過去に同様のメールをどのように操作したかに基づいて動作します。以前のフィルターでブロックされたメールは配信されず、スパムフォルダを完全に迂回します。

メール送信専用サーバーをお持ちの場合は、ウェブサイトのIPアドレスのメール送信におけるレピュテーションを確認し、監視してください。共有ホスティング環境と仮想ホスティング環境の両方において、これらの環境は通常メール送信に最適ではないため、専用のSMTPプロバイダーの利用をお勧めします。[詳しくはSender Scoreをご覧ください](https://www.senderscore.org/)。

